mixed-port: 7890
allow-lan: false
mode: rule
log-level: error
ipv6: false
enable-process: true
find-process-mode: strict
tcp-concurrent: false
unified-delay: true
global-client-fingerprint: chrome
keep-alive-interval: 25
profile:
  store-selected: true
  store-fake-ip: true
dns:
  enable: true
  listen: :53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - +.lan
    - +.local
    - +.localhost
    - +.localdomain
    - +.ip6-localhost
    - +.ip6-loopback
    - "*.example"
    - "*.invalid"
    - "*.test"
    - "*.home.arpa"
    - time.nist.gov
    - time.windows.com
    - time.android.com
    - pool.ntp.org
    - time.*.com
    - ntp.*.com
  default-nameserver:
    - system
    - https://8.8.8.8/dns-query
  direct-nameserver:
    - system
    - https://dns.google/dns-query
    - https://free.shecan.ir/dns-query
  nameserver:
    - https://dns.quad9.net/dns-query
    - https://security.cloudflare-dns.com/dns-query
    - https://dns.google/dns-query
  proxy-server-nameserver:
    - system
    - https://dns.umbrella.com/dns-query
    - https://dns.google/dns-query
    - https://ist01.dnscry.pt/dns-query
  direct-nameserver-follow-policy: false
  prefer-h3: false
  respect-rules: false
  use-hosts: true
  use-system-hosts: true
tun:
  enable: true
  stack: system
  dns-hijack:
    - any:53
  auto-route: true
  auto-detect-interface: true
  # strict-route: true
  device: Mihomo
sniffer:
  enable: true
  parse-pure-ip: true
  override-destination: false
  sniff:
    TLS:
      ports:
        - 443
        - 8443
    QUIC:
      ports:
        - 443
        - 8443
    HTTP:
      ports:
        - 80
        - 8080-8880
      override-destination: true
  sniffing:
    - tls
    - http
    - quic
proxy-providers:
  q:
    type: http
    url: https://raw.githubusercontent.com/liketolivefree/kobabi/main/prov_clash.yaml
    interval: 3600
    path: ./proxy-providers/q.yaml
    health-check:
      enable: true
      interval: 900
      url: https://www.gstatic.com/generate_204
      timeout: 5000
    override:
      udp: true
      skip-cert-verify: true
  a:
    type: http
    url: https://raw.githubusercontent.com/10ium/ClashFactory/main/providers/10ium-HiN-VPN.txt
    interval: 3600
    path: ./proxy-providers/a.yaml
    health-check:
      enable: true
      interval: 900
      url: https://www.gstatic.com/generate_204
      timeout: 5000
    exclude-type: ss|http|trojan|vmess
    exclude-filter: IR|CN|iran|china|(iran)|(china)
    override:
      udp: true
      skip-cert-verify: true
  b:
    type: http
    url: https://raw.githubusercontent.com/10ium/ClashFactory/main/providers/10ium-config-fetcher.txt
    interval: 3600
    path: ./proxy-providers/b.yaml
    health-check:
      enable: true
      interval: 900
      url: https://www.gstatic.com/generate_204
      timeout: 5000
    exclude-type: ss|http|trojan
    exclude-filter: IR|CN|iran|china|(iran)|(china)
    override:
      udp: true
      skip-cert-verify: true
  c:
    type: http
    url: https://raw.githubusercontent.com/Mosifree/-FREE2CONFIG/main/Clash_Movaghat
    interval: 3600
    path: ./proxy-providers/c.yaml
    health-check:
      enable: true
      interval: 900
      url: https://www.gstatic.com/generate_204
      timeout: 5000
    exclude-type: ss|http|trojan
    exclude-filter: IR|CN|iran|china|(iran)|(china)
    override:
      udp: true
      skip-cert-verify: true
  d:
    type: http
    url: https://raw.githubusercontent.com/xtoolkit/TVC/main/subscriptions/meta/mix
    interval: 3600
    path: ./proxy-providers/d.yaml
    health-check:
      enable: true
      interval: 900
      url: https://www.gstatic.com/generate_204
      timeout: 5000
    exclude-type: ss|http|trojan
    exclude-filter: IR|CN|iran|china|(iran)|(china)
    override:
      udp: true
      skip-cert-verify: true
  e:
    type: http
    url: https://raw.githubusercontent.com/itsyebekhe/PSG/main/subscriptions/meta/mix
    interval: 3600
    path: ./proxy-providers/e.yaml
    health-check:
      enable: true
      interval: 900
      url: https://www.gstatic.com/generate_204
      timeout: 5000
    exclude-type: ss|http|trojan
    exclude-filter: IR|CN|iran|china|(iran)|(china)
    override:
      udp: true
      skip-cert-verify: true
  f:
    type: http
    url: https://raw.githubusercontent.com/snakem982/proxypool/main/source/clash-meta-2.yaml
    interval: 3600
    path: ./proxy-providers/f.yaml
    health-check:
      enable: true
      interval: 900
      url: https://www.gstatic.com/generate_204
      timeout: 5000
    exclude-type: ss|http|trojan
    exclude-filter: IR|CN|iran|china|(iran)|(china)
    override:
      udp: true
      skip-cert-verify: true
  g:
    type: http
    url: https://raw.githubusercontent.com/mahdibland/V2RayAggregator/master/Eternity.yml
    interval: 3600
    path: ./proxy-providers/g.yaml
    health-check:
      enable: true
      interval: 900
      url: https://www.gstatic.com/generate_204
      timeout: 5000
    exclude-type: ss|http|trojan
    exclude-filter: IR|CN|iran|china|(iran)|(china)
    override:
      udp: true
      skip-cert-verify: true
proxy-groups:
  - name: QQOLI
    type: select
    proxies:
      - MMOBI
    use:
      - q
  - name: MMOBI
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 600
    tolerance: 0
    use:
      - q
      - a
      - b
      - c
      - d
      - e
      - f
      - g
rule-providers:
  aff_l:
    type: http
    behavior: domain
    format: mrs
    url: https://raw.githubusercontent.com/liketolivefree/kobabi/main/aff_l.mrs
    path: ./rule-providers/aff_l.mrs
    interval: 86400
  yun:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://raw.githubusercontent.com/liketolivefree/kobabi/main/yun.mrs
    path: ./rule-providers/yun.mrs
    interval: 86400
  oki:
    type: http
    behavior: domain
    format: mrs
    url: https://raw.githubusercontent.com/liketolivefree/kobabi/main/oki.mrs
    path: ./rule-providers/oki.mrs
    interval: 86400
  doki:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://raw.githubusercontent.com/liketolivefree/kobabi/main/doki.mrs
    path: ./rule-providers/doki.mrs
    interval: 86400
  xal:
    type: http
    behavior: domain
    format: mrs
    url: https://raw.githubusercontent.com/liketolivefree/kobabi/main/xal.mrs
    path: ./rule-providers/xal.mrs
    interval: 86400
  loo:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://raw.githubusercontent.com/liketolivefree/kobabi/main/loo.mrs
    path: ./rule-providers/loo.mrs
    interval: 86400
rules:
  - IP-CIDR,10.10.34.0/24,REJECT,no-resolve
  - IP-CIDR,2001:4188:2:600:10:10:34:34/127,REJECT,no-resolve
  - IP-CIDR,2001:4188:2:600:10:10:34:36/128,REJECT,no-resolve
  - DOMAIN-SUFFIX,lan,DIRECT
  - DOMAIN-SUFFIX,local,DIRECT
  - DOMAIN-SUFFIX,localdomain,DIRECT
  - DOMAIN-SUFFIX,localhost,DIRECT
  - RULE-SET,aff_l,REJECT
  - RULE-SET,yun,REJECT,no-resolve
  - DOMAIN-SUFFIX,ir,DIRECT
  - RULE-SET,xal,DIRECT
  - RULE-SET,oki,QQOLI
  - RULE-SET,loo,DIRECT,no-resolve
  - RULE-SET,doki,QQOLI,no-resolve
  - MATCH,QQOLI
external-controller: ""
socks-port: 7891
port: 7892
geo-auto-update: false
geo-update-interval: 90
geodata-mode: false
geox-url:
  geoip: https://github.com/Chocolate4u/Iran-v2ray-rules/releases/latest/download/geoip.dat
  geosite: https://github.com/Chocolate4u/Iran-v2ray-rules/releases/latest/download/geosite.dat
  mmdb: https://github.com/Chocolate4u/Iran-clash-rules/releases/latest/download/geoip.metadb
  asn: https://github.com/Chocolate4U/Iran-v2ray-rules/raw/geolite2/GeoLite2-ASN.mmdb
hosts:
  "localhost": ["127.0.0.1", "::1"]
  "localhost.localdomain": "127.0.0.1"
  "local": "127.0.0.1"
  "broadcasthost": "255.255.255.255"
  "time.nist.gov": ["132.163.97.3", "2610:20:6f97:97::4"]
  "time.android.com": ["216.239.35.0", "216.239.35.8", "216.239.35.4", "216.239.35.12", "2001:4860:4806:8::", "2001:4860:4806:c::", "2001:4860:4806::", "2001:4860:4806:4::"]
  "time.windows.com": "168.61.215.74"
  "time.apple.com": ["17.253.2.37", "17.253.2.35", "17.253.20.45", "2620:149:a10:4000::31", "2620:149:a33:3000::21", "2620:149:a33:4000::31"]
  "pool.ntp.org": ["173.249.203.227", "212.227.240.160", "138.89.14.60", "72.30.35.89"]
  "asia.pool.ntp.org": ["142.93.213.206", "103.186.118.218", "103.105.56.11", "103.186.118.215"]
  "0.pool.ntp.org": ["172.233.157.223", "38.134.40.65", "96.126.122.39", "198.137.202.32"]
  "2.pool.ntp.org": ["104.207.148.118", "23.186.168.129", "208.113.130.146", "104.167.215.195", "2603:c020:0:8369::bad:beef", "2602:81c:1000:2::199", "2605:4840:3:fb19::1", "2604:a880:1:20::3b:1001"]
  "2.centos.pool.ntp.org": ["172.234.37.140", "172.104.28.175", "96.19.94.82", "23.94.221.138", "2a0a:79c0:e09::123", "2602:f9f3:1:2f:123:123:123:123", "2600:3c03::f03c:94ff:fe59:d3de", "2a01:7e03::f03c:94ff:fe24:44c4"]
  "2.android.pool.ntp.org": ["139.177.202.26", "50.117.3.95", "23.186.168.125", "172.233.177.198", "2603:c020:0:8369:fec0:b7f:603:2601", "2001:559:2be:3::1001", "2001:470:1f1e:b2::123", "2a05:dfc1:3c16:13a9::123"]
  "raw.githubusercontent.com": ["185.199.108.133", "185.199.109.133", "185.199.110.133", "185.199.111.133", "2606:50c0:8000::154", "2606:50c0:8001::154", "2606:50c0:8002::154", "2606:50c0:8003::154"]
  "dns.google": ["8.8.8.8", "8.8.4.4", "2001:4860:4860::8888", "2001:4860:4860::8844"]
  "cloudflare-dns.com": ["104.16.249.249", "104.16.248.249", "2606:4700::6810:f8f9", "2606:4700::6810:f9f9"]
  "1dot1dot1dot1.cloudflare-dns.com": ["1.1.1.1", "1.0.0.1", "2606:4700:4700::1111", "2606:4700:4700::1001"]
  "one.one.one.one": ["1.1.1.1", "1.0.0.1", "2606:4700:4700::1111", "2606:4700:4700::1001"]
  "security.cloudflare-dns.com": ["1.1.1.2", "1.0.0.2", "2606:4700:4700::1112", "2606:4700:4700::1002"]
  "family.cloudflare-dns.com": ["1.1.1.3", "1.0.0.3", "2606:4700:4700::1113", "2606:4700:4700::1003"]
  "engage.cloudflareclient.com": ["162.159.192.1", "2606:4700:d0::a29f:c001"]
  "dns.quad9.net": ["9.9.9.9", "149.112.112.112", "2620:fe::fe", "2620:fe::9"]
  "dns9.quad9.net": ["9.9.9.9", "149.112.112.9", "2620:fe::9", "2620:fe::fe:9"]
  "dns10.quad9.net": ["9.9.9.10", "149.112.112.10", "2620:fe::10", "2620:fe::fe:10"]
  "dns11.quad9.net": ["9.9.9.11", "149.112.112.11", "2620:fe::11", "2620:fe::fe:11"]
  "dns12.quad9.net": ["9.9.9.12", "149.112.112.12", "2620:fe::12", "2620:fe::fe:12"]
  "dns.adguard-dns.com": ["94.140.14.14", "94.140.15.15", "2a10:50c0::ad1:ff", "2a10:50c0::ad2:ff"]
  "unfiltered.adguard-dns.com": ["94.140.14.140", "94.140.14.141", "2a10:50c0::1:ff", "2a10:50c0::2:ff"]
  "family.adguard-dns.com": ["94.140.14.15", "94.140.15.16", "2a10:50c0::bad1:ff", "2a10:50c0::bad2:ff"]
  "dns.opendns.com": ["208.67.220.220", "208.67.222.222", "2620:119:35::35", "2620:119:53::53"]
  "dns.umbrella.com": ["208.67.220.220", "208.67.222.222", "2620:119:35::35", "2620:119:53::53"]
  "dns.sse.cisco.com": ["208.67.220.220", "208.67.222.222", "2620:119:35::35", "2620:119:53::53"]
  "doh.opendns.com": ["146.112.41.2", "2620:119:fc::2"]
  "doh.sse.cisco.com": ["146.112.41.2", "2620:119:fc::2"]
  "doh.familyshield.opendns.com": ["146.112.41.3", "2620:119:fc::3"]
  "doh.sandbox.opendns.com": ["146.112.41.3", "2620:119:fc::3"]
  "doh.umbrella.com": ["146.112.41.5", "2620:119:fc::5"]
  "familyshield.opendns.com": ["208.67.220.123", "208.67.222.123", "2620:119:35::123", "2620:119:53::123"]
  "familyshield.sse.cisco.com": ["208.67.220.123", "208.67.222.123", "2620:119:35::123", "2620:119:53::123"]
  "sandbox.opendns.com": ["208.67.220.2", "208.67.222.2", "2620:0:ccc::2", "2620:0:ccd::2"]
  "sandbox.sse.cisco.com": ["208.67.220.2", "208.67.222.2", "2620:0:ccc::2", "2620:0:ccd::2"]
  "dns.mullvad.net": "194.242.2.2"
  "adblock.dns.mullvad.net": "194.242.2.3"
  "base.dns.mullvad.net": "194.242.2.4"
  "doh.cleanbrowsing.org": ["185.228.168.10", "185.228.168.168"]
  "security-filter-dns.cleanbrowsing.org": "185.228.168.9"
  "security-filter-dns2.cleanbrowsing.org": "185.228.169.9"
  "doh.applied-privacy.net": ["146.255.56.98", "2a02:1b8:10:234::2"]
  "dot1.applied-privacy.net": ["146.255.56.98", "2a02:1b8:10:234::2"]
  "evn01.dnscry.pt": ["85.90.207.199", "2a03:90c0:5f1:2903::539"]
  "fra01.dnscry.pt": ["45.82.120.61", "2a0e:6a80:3:669::"]
  "sof01.dnscry.pt": ["79.124.7.43", "2a01:8740:1:863::3b8c"]
  "muc01.dnscry.pt": ["194.39.205.10", "2a0c:8fc0:1749:66:18::16"]
  "ist01.dnscry.pt": ["188.132.192.168", "2a12:e342:300::daca:63ea"]
  "cph01.dnscry.pt": ["192.121.119.19", "2001:67c:bec:b:43a:1aff:feb1:eb5d"]
  "sto01.dnscry.pt": ["195.72.60.66", "2a07:e043:1:5d::1"]
  "nue01.dnscry.pt": ["202.61.236.67", "2a03:4000:5c:51:24b9:51ff:fe80:f3a7"]
  "ams01.dnscry.pt": ["198.140.141.46", "2a03:94e3:222b::1032"]
  "naw01.dnscry.pt": ["45.95.38.29", "2a00:7c83:0:12:14d0:f5b6:4ec:a"]
  "vie01.dnscry.pt": ["83.138.55.186", "2a0d:f302:110:6517::1"]
  "ams02.dnscry.pt": ["45.86.162.110", "2a07:efc0:1001:a5ce::b4b4"]
  "par01.dnscry.pt": ["89.117.2.17", "2402:d0c0:22:6cd0:4:4:4:5b81"]
  "fra02.dnscry.pt": ["45.147.51.123", "2a07:d884:100::344"]
  "dus01.dnscry.pt": ["5.175.180.171", "2a0f:6284:4300:101::12a5"]
  "bts01.dnscry.pt": ["95.131.202.105", "2a05:5502::5906:97f8:2d0e:1"]
  "lon01.dnscry.pt": ["45.67.84.132", "2401:8360:a2:4::a"]
  "vno01.dnscry.pt": ["162.254.86.13", "2a13:9401:0:1::3d58:1"]
  "dub01.dnscry.pt": ["194.26.213.15", "2a09:cd46:f:429e::5"]
  "cvt01.dnscry.pt": ["45.155.37.165", "2a0d:d8c0:0:f043::6927"]
  "de-dus.doh.sb": ["62.133.35.15", "2a09:0:8::15"]
  "de-fra.doh.sb": ["147.78.178.170", "147.78.178.171", "147.78.178.172", "147.78.178.173", "147.78.178.174", "2a09:0:1:a::a"]
  "ru-mow.doh.sb": ["23.105.231.66", "2a05:93c2:1001:101a:f816:3eff:fe81:8ef4"]
  "de-ber.doh.sb": ["45.142.247.194", "2a12:8d02:2100:2ac:5054:ff:fe09:8539"]
  "doh.dns.sb": ["104.128.62.173", "2602:ffbb:100:4::2"]
  "doh.sb": ["185.222.222.222", "45.11.45.11", "2a11::", "2a09::"]
  "dns.sb": ["45.11.45.11", "185.222.222.222", "2a11::", "2a09::"]
  "dot.sb": ["45.11.45.11", "185.222.222.222", "2a11::", "2a09::"]
  "dns.alidns.com": ["223.6.6.6", "223.5.5.5", "2400:3200::1", "2400:3200:baba::1"]
  "public1.114dns.com": "114.114.114.114"
  "public2.114dns.com": "114.114.115.115"
  "anti-malware-1.114dns.com": "114.114.114.119"
  "anti-malware-2.114dns.com": "114.114.115.119"
  "pdns.dnspod.cn": ["119.28.28.28", "119.29.29.29", "120.53.71.88", "106.55.120.91"]
  "cdns01.comcast.net": ["75.75.75.75", "2001:558:feed::1"]
  "cdns02.comcast.net": ["75.75.76.76", "2001:558:feed::2"]
  "rec1pubns1.ultradns.net": ["64.6.64.6", "2620:74:1b::1:1"]
  "rec1pubns2.ultradns.net": ["64.6.65.6", "2620:74:1c::2:2"]
  "dns.yandex.net": ["77.88.8.8", "77.88.8.1", "2a02:6b8::feed:ff", "2a02:6b8:0:1::feed:ff"]
  "dot.pub": ["1.12.12.12", "120.53.53.53"]
  "doh.pub": ["1.12.12.12", "120.53.53.53"]
  "recursive1.dci.ir": "217.218.127.127"
  "recursive2.dci.ir": "217.218.155.155"
  "free.shecan.ir": ["178.22.122.100", "178.22.122.101"]
  "dns.shecan.ir": ["178.22.122.100", "178.22.122.101"]
  "pro.shecan.ir": ["178.22.122.100", "178.22.122.101"]
  "th1.dnsfinder.ir": ["193.151.154.125", "2a05:1a30:1:2::58e"]
  "dns.kcolspacrm.ir": ["185.143.233.121", "185.143.233.235", "185.143.234.121", "185.143.234.235"]
  "dns-cache1.rasana.net": "85.15.1.14"
  "dns-cache2.rasana.net": "85.15.1.15"
  "dns.pishgaman.net": "5.202.100.100"
  "dns.farakaft.ir": "5.144.135.9"
  "dns.electrotm.org": "78.157.42.100"
  
